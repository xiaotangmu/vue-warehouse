<template>
    <div class="spu-add-div">
      <div class="spu-add-main">
        <div class="spu-add-group ">
          <div class="spu-add-item-title-textArea">
            <div class="spu-add-item-title-div-textArea">
              <span>商品分类</span>
            </div>
          </div>
          <div class="spu-add-item-content spu-catalog-div">
            <div class="form-control spu-add-catalog thumbnail" ><span class="spu-catalog-value">hhhh</span><span class="spu-add-list glyphicon glyphicon-triangle-bottom"></span></div>
            <div class="spu-catalog-choose-list innerbox thumbnail" style="display: none">
              <div class="spu-catalog-choose-list0 spu-catalog-choose-list-left myScrollBox" >
                <div class="spu-catalog-item spu-catalog1-item" item-index="1">hello</div>
                <div class="spu-catalog-item spu-catalog1-item" item-index="2">hello</div>
                <div class="spu-catalog-item spu-catalog1-item" item-index="3">hello</div>
                <div class="spu-catalog-item spu-catalog1-item" item-index="4">hello</div>
                <div class="spu-catalog-item spu-catalog1-item">hello</div>
                <div class="spu-catalog-item">hello</div>
                <div class="spu-catalog-item">hello</div>
                <div class="spu-catalog-item">hello</div>
                <div class="spu-catalog-item">hello</div>
                <div class="spu-catalog-item">hello</div>
                <div class="spu-catalog-item">hello</div>
              </div>
              <div class="spu-catalog-choose-list0 spu-catalog-choose-list-center myScrollBox">
                <div class="spu-catalog-item spu-catalog2-item" item-index="1">hello</div>
                <div class="spu-catalog-item spu-catalog2-item" item-index="2">hello</div>
                <div class="spu-catalog-item spu-catalog2-item" item-index="3">hello</div>
                <div class="spu-catalog-item spu-catalog2-item" item-index="4">hello</div>
                <div class="spu-catalog-item">hello</div>
                <div class="spu-catalog-item">hello</div>
                <div class="spu-catalog-item">hello</div>
                <div class="spu-catalog-item">hello</div>
                <div class="spu-catalog-item">hello</div>
                <div class="spu-catalog-item">hello</div>
                <div class="spu-catalog-item">hello</div>
              </div>
              <div class="spu-catalog-choose-list0 spu-catalog-choose-list-right myScrollBox">
                <div class="spu-catalog-item spu-catalog3-item" item-index="1">hello</div>
                <div class="spu-catalog-item spu-catalog3-item" item-index="2">hello</div>
                <div class="spu-catalog-item spu-catalog3-item" item-index="3">hello</div>
                <div class="spu-catalog-item spu-catalog3-item" item-index="4">hello</div>
                <div class="spu-catalog-item spu-catalog3-item">hello</div>
                <div class="spu-catalog-item">hello</div>
                <div class="spu-catalog-item">hello</div>
                <div class="spu-catalog-item">hello</div>
                <div class="spu-catalog-item">hello</div>
                <div class="spu-catalog-item">hello</div>
                <div class="spu-catalog-item">hello</div>
              </div>
            </div>
          </div>
        </div>

        <div class="spu-add-group">
          <div class="spu-add-item-title">
            <div class="spu-add-item-title-div">
              <span>商品品牌</span>
            </div>
          </div>
          <div class="spu-add-item-content spu-down-list-div">
            <div class="form-control spu-down-list thumbnail" >
              <span class="span-brand-value span-item-content">hhhh</span>
              <span class="spu-add-list glyphicon glyphicon-triangle-bottom"></span>
            </div>
            <div class="myScrollBox spu-down-list-content thumbnail " style="display: none;">
              <div class="spu-brand-item spu-down-list-item " >
                <span>hello</span>
              </div>
              <div class="spu-brand-item spu-down-list-item ">
                <span>hello</span>
              </div>
              <div class="spu-brand-item spu-down-list-item ">
                <span>hello</span>
              </div>
              <div class="spu-brand-item spu-down-list-item ">
                <span>hello</span>
              </div>
              <div class="spu-brand-item spu-down-list-item ">
                <span>hello</span>
              </div>
              <div class="spu-brand-item spu-down-list-item ">
                <span>hello</span>
              </div>
              <div class="spu-brand-item spu-down-list-item ">
                <span>hello</span>
              </div>
            </div>
          </div>
        </div>

        <div class="spu-add-group">
          <div class="spu-add-item-title">
            <div class="spu-add-item-title-div">
              <span>商品名称</span>
            </div>
          </div>
          <div class="spu-add-item-content">
            <input type="text" class="form-control" placeholder="葵花宝典">
          </div>
        </div>

        <div class="spu-add-group">
          <div class="spu-add-item-title-textArea">
            <div class="spu-add-item-title-div-textArea">
              <span>商品描述</span>
            </div>
          </div>
          <div class="spu-add-item-content">
            <textarea class="form-control" placeholder="棒棒棒" rows="7" style="resize: none"></textarea>
          </div>
        </div>

        <div class="spu-add-group">
          <div class="spu-add-item-title">
            <div class="spu-add-item-title-div">
              <span>商品属性</span>
            </div>
          </div>
          <div class="spu-add-item-content spu-down-list-div">
            <div class="spu-attr-list ">
              <div class="spu-attr-content form-control spu-down-list thumbnail " ><span class="spu-attr-name">hhhh</span><span class="spu-add-list glyphicon glyphicon-triangle-bottom"></span></div>
              <div class="spu-attr-list-div myScrollBox spu-down-list-content thumbnail " style="display: none">
                <div class="spu-attr-item spu-down-list-item " >
                  <span class="multiple-choose-checkbox"></span>
                  <span>hello</span>
                </div>
                <div class="spu-attr-item spu-down-list-item ">
                  <span class="multiple-choose-checkbox"></span>
                  <span>hello</span>
                </div>
                <div class="spu-attr-item spu-down-list-item ">
                  <span class="multiple-choose-checkbox"></span>
                  <span>hello</span>
                </div>
                <div class="spu-attr-item spu-down-list-item ">
                  <span class="multiple-choose-checkbox"></span>
                  <span>hello</span>
                </div>
                <div class="spu-attr-item spu-down-list-item ">
                  <span class="multiple-choose-checkbox"></span>
                  <span>hello</span>
                </div>
                <div class="spu-attr-item spu-down-list-item ">
                  <span class="multiple-choose-checkbox"></span>
                  <span>hello</span>
                </div>
                <div class="spu-attr-item spu-down-list-item ">
                  <span class="multiple-choose-checkbox"></span>
                  <span>hello</span>
                </div>
              </div>

            </div>

          </div>
        </div>

        <div class="spu-add-group">
          <div class="spu-add-item-title">
            <div class="spu-add-item-title-div">
            </div>
          </div>
          <div class="spu-add-item-content">
            <div class="btn btn-primary form-control">添加</div>
          </div>
        </div>

      </div>
    </div>
</template>

<script>
  import './../../../../plugins/malihu-custom-scrollbar/js/minified/jquery-1.11.0.min.js';
  import './../../../../plugins/malihu-custom-scrollbar/js/minified/jquery-ui-1.10.4.min.js';
  import './../../../../plugins/malihu-custom-scrollbar/js/minified/jquery.mousewheel-3.0.6.min.js';
  import './../../../../plugins/malihu-custom-scrollbar/js/minified/jquery.mCustomScrollbar.min.js';
    export default {
      data: {
        catalogChooseFlag: false,
        //用来记录分类index
        firstFlag: 0,
        secondFlag: false,
        thirdFlag: false,
        firstValue: '',
        secondValue: '',
        thirdValue: '',
      },
      mounted(){
        let { firstFlag, secondFlag, thirdFlag, firstValue, secondValue, thirdValue } = this;
        //分类框滚动条主题 -- 滚动条类 -- myScrollBox
        $(".myScrollBox").mCustomScrollbar({
          theme:"minimal"
        });
        //一级分类样式变化
        $('.spu-catalog1-item').hover(
          function(){
            $('.spu-catalog1-item').each(function(){
              $(this).removeClass('spu-catalog-item-hover');
            });
            $(this).addClass('spu-catalog-item-hover');
            firstFlag = $(this).attr('item-index');
            firstValue = $(this).text();
          });
        //二级分类样式
        $('.spu-catalog2-item').hover(
          function(){
            $('.spu-catalog2-item').each(function(){
              $(this).removeClass('spu-catalog-item-hover');
            });
            $(this).addClass('spu-catalog-item-hover');
            secondFlag = $(this).attr('item-index');
            secondValue = $(this).text();
          });

        //三级分类样式
        $('.spu-catalog3-item').hover(
          function(){
            $('.spu-catalog3-item').each(function(){
              $(this).removeClass('spu-catalog-item-hover');
            });
            $(this).addClass('spu-catalog-item-hover');
            thirdFlag = $(this).attr('item-index');
            thirdValue = $(this).text();
          });

        //三级分类选择
        $('.spu-catalog3-item').click(function(){
          $('.spu-catalog3-item').each(function(){
            $(this).removeClass('catalog-chose');
          });
          $(this).addClass('catalog-chose');
          //显示分类值
          $('.spu-catalog-value').text(firstValue + ' / ' + secondValue + ' / ' + thirdValue);
        });

        //是否显示分类选择框
        $('.spu-add-catalog').click(function(event){
          $('.spu-catalog-choose-list').toggle();
          $('.spu-add-catalog').addClass('spu-add-catalog-hover');
        });
        $('.spu-catalog-div').mouseleave(function(){
          $('.spu-catalog-choose-list').hide();
          $('.spu-add-catalog').removeClass('spu-add-catalog-hover');
        });

        //spu 添加属性多选框的选择
        $('.spu-attr-item').click(function(){
          if($(this).attr('isChecked') === undefined || $(this).attr('isChecked') === '' || $(this).attr('isChecked') === null){
            $(this).find('.multiple-choose-checkbox').addClass('checkbox-choose');
            $(this).attr('isChecked', 1);//1为选择，其他没有选择
          }else{//取消选择
            $(this).find('.multiple-choose-checkbox').removeClass('checkbox-choose');
            $(this).attr('isChecked', '');
          }
          let attrContent = '';
          //取值回显文本框
          $('.spu-attr-list-div').find('.checkbox-choose').each(function(){//后面添加checkbox-choose 直接找有问题
            // alert($(this).attr('isChecked'));//找不到
            attrContent += $(this).next().text() + ' & ';
          });
          // alert(attrContent.length)
          attrContent = attrContent.substring(0, attrContent.length-2);//去除最后字符，有空格减2
          $('.spu-attr-name').text(attrContent);

        });

        //商品属性下拉列表显示与消失
        $('.spu-down-list').click(function(){
          $(this).next('.spu-down-list-content').toggle();
        });
        $('.spu-down-list-div').mouseleave(function(){
          $(this).find('.spu-down-list-content').hide();
        });

        $('.spu-brand-item').click(function(){
          $('.span-brand-value').text($(this).find('span').eq(0).text());
        });
      }
    }
</script>


<style>
  @import "./../../../../plugins/malihu-custom-scrollbar/jquery.mCustomScrollbar.min.css";
  .spu-add-group{
    /*background-color: #f7e1b5;*/
    /*width: 1000px;*/
    /*margin: 0 auto;*/
    font-size: 16px;
    margin: 30px 0;
  }
  .spu-add-item-title{
    /*background-color: #2e6da4;*/
    width: 150px;
    display: inline-block;
    text-align: right;
    margin-left: 290px;
    padding-right: 10px;
    /*position: relative;*/
  }
  .spu-add-item-title-div{
    /*float: right;*/
    /*position: absolute;*/
    /*left: 0;*/
    /*top: 0;*/
    height: 100%;
    /*text-align: right;*/
  }
  .spu-add-item-content{
    display: inline-block;
    /*background-color: #60AD94;*/
    width: 500px;
  }
  .spu-add-item-title-textArea{
    float: left;
    margin: 5px 5px 0 290px;
    width: 150px;
    padding-right: 10px;
    text-align: right;
  }
  .spu-add-item-title-div-textArea{

  }
  .spu-down-list,
  .spu-add-catalog{
    height: 35px;
    border-color: #cccccc;
    line-height: 35px;
    font-size: 15px;
    padding-left: 10px;
  }
  .spu-add-list{
    float: right;
    margin: 10px;
    color: #ccc;
  }
  .spu-add-catalog-hover{
    box-shadow: 1px 1px 5px 1px #66AFE9;
  }
  .spu-catalog-choose-list{
    position: absolute;
    width: 500px;
    height: 200px;
    /*background-color: #f5f5f5;*/
    background-color: #fff;
    overflow: auto;
    z-index: 13;
    /*scrollbar-arrow-color: #f4ae21; !**!!*三角箭头的颜色*!*/
    /*scrollbar-face-color: red; !**!!*立体滚动条的颜色*!*/
    /*scrollbar-3dlight-color: #d0e9c6; !**!!*立体滚动条亮边的颜色*!*/
    /*scrollbar-highlight-color: #c0a16b; !**!!*滚动条空白部分的颜色*!*/
    /*scrollbar-shadow-color: #dff0d8; !**!!*立体滚动条阴影的颜色*!*/
    /*scrollbar-darkshadow-color: #d9534f; !**!!*立体滚动条强阴影的颜色*!*/
    /*scrollbar-track-color: #e5e5e5; !**!!*立体滚动条背景颜色*!*/
    /*scrollbar-base-color:#d58512; !**!!*滚动条的基本颜色*!*/
  }

  /*滚动条样式*/
  /*.spu-catalog-choose-list::-webkit-scrollbar {!*滚动条整体样式*!*/
    /*width: 4px;     !*高宽分别对应横竖滚动条的尺寸*!*/
    /*height: 4px;*/
  /*}*/
  /*!*滚动条的轨道*!*/
  /*.spu-catalog-choose-list::-webkit-scrollbar-track {*/
    /*-webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.2);*/
    /*border-radius: 5px;*/
    /*background: rgba(0,0,0,0.1);*/
  /*}*/
  /*!*滚动条里面小滑块*!*/
  /*.spu-catalog-choose-list::-webkit-scrollbar-thumb {*/
    /*border-radius: 5px;*/
    /*-webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.2);*/
    /*background: rgba(0,0,0,0.2);*/
  /*}*/

  .spu-catalog-choose-list0{
    float: left;
    width: 166px;
    height: 100%;
    overflow: auto;
  }
  .spu-catalog-choose-list-left{
    /*background-color: #d58512;*/
  }
  .spu-catalog-choose-list-center{
    /*background-color: #e5e5e5;*/
  }
  .spu-catalog-choose-list-right{
    /*background-color: #d9534f;*/
  }
  ._mCS_5 .mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar,
  ._mCS_4 .mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar,
  ._mCS_3 .mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar,
  ._mCS_2 .mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar,
  ._mCS_1 .mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar{
    /*background: rgba(0,0,0,0.4);*/
    background: red;
    width:3px;
  }
  ._mCS_5 .mCSB_scrollTools .mCSB_draggerRail,
  ._mCS_4 .mCSB_scrollTools .mCSB_draggerRail,
  ._mCS_3 .mCSB_scrollTools .mCSB_draggerRail,
  ._mCS_2 .mCSB_scrollTools .mCSB_draggerRail,
  ._mCS_1 .mCSB_scrollTools .mCSB_draggerRail{
    /*background: rgba(0,0,0,0.6);*/
    background: #333333;
    width:3px;
  }
  .spu-catalog-item{
    /*background-color: #dff0d8;*/
    /*color: #316AC5;*/
    font: 14px 'yunyuan';
    text-align: left;
    padding: 5px 10px;

  }
  .spu-catalog-item-hover{
    background-color: #ccc;
    /*background-color: #5394EC;*/
    cursor: pointer;
  }
  /*.spu-catalog-second{*/
    /*background-color: #d9534f;*/
    /*width: 166px;*/
    /*position: absolute;*/
    /*left: 150px;*/
  /*}*/
  .catalog-chose{
    color: #4890D1;
  }
  .spu-down-list-content{
    width: 500px;
    position: absolute;
    max-height: 165px;
    /*background-color: #6CB7A0;*/
    overflow: auto;
  }
  .spu-down-list-item{
    padding: 5px 0 5px 10px;
    /*line-height: 25px;*/
  }
  .spu-attr-item{
    position: relative;
    padding: 5px 0 5px 35px;
  }
  .spu-down-list-item:hover{
    background-color: #ccc;
  }
  .multiple-choose-checkbox{
    /*margin: 5px 0;*/
    display:inline-block;
    width: 16px;
    height: 16px;
    position: absolute;
    left: 10px;
    top: 8px;
    background: url("./../../../assets/css/img/non-choose.jpg");
  }
  .checkbox-choose{
    background: url("./../../../assets/css/img/full-choose.jpg");
  }
  .spu-attr-name{/*防止变形*/
    padding-right: 1px;
  }
</style>
